<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/reusableComponents/ButtonGroup.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/reusableComponents/ButtonGroup.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from 'react';
import { useEffect, useState } from 'react';
import {
    View,
    Text,
    StyleSheet,
    TouchableOpacity,
    Animated,
} from 'react-native';

/**
 * Component that displays a button group
 * @namespace ButtonGroup
 * @memberof reusableComponents
 * @prop {array} values The buttons of the button group
 * @prop {int} selectedValue Selected button
 * @prop {number} [groupWidth] The width of the button group
 * @prop {number} [textSize] Font size of the buttons
 * @prop {function} onSelect Handler to be called when the user taps a button
 * @prop {color} highlightBackgroundColor BachgroundColor of the selected button
 * @prop {color} highlightTextColor Text color of the selected button
 * @prop {color} inactiveBackgroundColor BackgroundColor of the inactive button(s)
 * @prop {color} inactiveTextColor Text color of the inactive button(s)
 * @prop {number} [height] The height of the button group
 */
const ButtonGroup = (props) => {
    const {
        values,
        selectedValue,
        groupWidth,
        textSize,
        onSelect,
        highlightBackgroundColor,
        highlightTextColor,
        inactiveBackgroundColor,
        inactiveTextColor,
        isColorOptions,
        height,
    } = props;

    // Set the value of the optional props, if they are not set
    const isColorOption = isColorOptions != null ? isColorOptions : false;
    const width = groupWidth != null ? groupWidth : 300;
    const fontSize = textSize != null ? textSize : width / 15;
    const isHeight = height != null ? height : width / 6;
    const buttonSize = width / values.length;

    const [chosenIndex, setChosenIndex] = useState(
        values.indexOf(selectedValue)
    );
    const [boxPos, setBoxPos] = useState(
        new Animated.Value(chosenIndex * buttonSize)
    );

    /**
     * useEffect that is triggered when selectedValue is changed.
     * Will set the state chosenIndex to the index of the selected value
     */
    useEffect(() => {
        setChosenIndex(values.indexOf(selectedValue));
    }, [selectedValue]);

    /**
     * useEffect that is triggered when chosenValue is changed.
     * Will animate the changing of the selected button
     */
    useEffect(() => {
        Animated.spring(boxPos, {
            toValue: buttonSize * chosenIndex,
            bounciness: 0,
            speed: 2,
            useNativeDriver: true,
        }).start();
    }, [chosenIndex]);

    /**
     * Handler that is called when the user taps a button.
     * Sets the state of the chosenIndex
     * @memberof reusableComponents.ButtonGroup
     * @param {string} value The name of the button
     * @param {int} i The index of the button
     */
    const onValueChanged = (value, i) => {
        onSelect(value);
        setChosenIndex(i);
    };

    return (
        &lt;View
            style={[
                styles.mainView,
                {
                    width: width,
                    height: isHeight,
                    backgroundColor: inactiveBackgroundColor,
                },
            ]}>
            {!isColorOption &amp;&amp; (
                &lt;Animated.View
                    style={[
                        styles.slider,
                        {
                            height: isHeight,
                            width: buttonSize,
                            backgroundColor: highlightBackgroundColor,
                            transform: [{ translateX: boxPos }],
                        },
                    ]}
                />
            )}

            {values.map((value, i) => {
                return (
                    &lt;View
                        key={i}
                        style={[
                            styles.buttonView,
                            isColorOption
                                ? {
                                      borderTopLeftRadius: i == 0 ? 10 : 0,
                                      borderTopRightRadius:
                                          i === values.length - 1 ? 10 : 0,
                                      borderBottomLeftRadius: i === 0 ? 10 : 0,
                                      borderBottomRightRadius:
                                          i === values.length - 1 ? 10 : 0,
                                      backgroundColor: value,
                                  }
                                : null,
                        ]}>
                        &lt;TouchableOpacity
                            style={[styles.touchable, { width: buttonSize }]}
                            onPress={() => onValueChanged(value, i)}>
                            {!isColorOption &amp;&amp; (
                                &lt;Text
                                    style={[
                                        styles.text,
                                        {
                                            fontSize: fontSize,
                                            color:
                                                i == chosenIndex
                                                    ? highlightTextColor
                                                    : inactiveTextColor,
                                        },
                                    ]}>
                                    {value}
                                &lt;/Text>
                            )}
                        &lt;/TouchableOpacity>
                    &lt;/View>
                );
            })}

            {isColorOption &amp;&amp; (
                &lt;Animated.View
                    style={[
                        styles.slider,
                        {
                            height: isHeight,
                            width: buttonSize,
                            // backgroundColor: 'transparent',
                            // borderBottomColor: 'white',
                            borderBottomWidth: 5,
                            borderRadius: 0,
                            transform: [{ translateX: boxPos }],
                        },
                    ]}
                />
            )}
        &lt;/View>
    );
};
const styles = StyleSheet.create({
    mainView: {
        flexDirection: 'row',
        borderRadius: 10,
    },
    text: {
        fontSize: 20,
        textAlign: 'center',
        fontWeight: 'bold',
    },
    touchable: {
        justifyContent: 'center',
        alignItems: 'center',
        flexDirection: 'row',
    },
    buttonView: {
        flexDirection: 'row',
    },
    slider: {
        position: 'absolute',
        borderRadius: 10,
    },
});

export default ButtonGroup;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="reusableComponents.html">reusableComponents</a></li><li><a href="reusableComponents.ButtonGroup.html">ButtonGroup</a></li><li><a href="reusableComponents.Carousel.html">Carousel</a></li><li><a href="reusableComponents.Divider.html">Divider</a></li><li><a href="reusableComponents.Header.html">Header</a></li><li><a href="reusableComponents.MainView.html">MainView</a></li><li><a href="reusableComponents.Overlay.html">Overlay</a></li><li><a href="SketchArea.html">SketchArea</a></li><li><a href="sketchHeaderComponents.html">sketchHeaderComponents</a></li><li><a href="sketchHeaderComponents.ColorButton.html">ColorButton</a></li><li><a href="sketchHeaderComponents.DeleteButtonPopover.html">DeleteButtonPopover</a></li><li><a href="sketchHeaderComponents.DraggableComponentsButton.html">DraggableComponentsButton</a></li><li><a href="sketchHeaderComponents.HeaderButton.html">HeaderButton</a></li><li><a href="sketchHeaderComponents.PencilSizeButton.html">PencilSizeButton</a></li><li><a href="sketchHeaderComponents.SketchColorMenu.html">SketchColorMenu</a></li><li><a href="sketchHeaderComponents.SketchHeader.html">SketchHeader</a></li></ul><h3>Global</h3><ul><li><a href="global.html#BottomMenuAnimated">BottomMenuAnimated</a></li><li><a href="global.html#BottomMenuContent">BottomMenuContent</a></li><li><a href="global.html#clearStorage">clearStorage</a></li><li><a href="global.html#CountryRoadScreen">CountryRoadScreen</a></li><li><a href="global.html#Draggable">Draggable</a></li><li><a href="global.html#DraggableComponents">DraggableComponents</a></li><li><a href="global.html#DraggableComponentsMenu">DraggableComponentsMenu</a></li><li><a href="global.html#DraggableWithEverything">DraggableWithEverything</a></li><li><a href="global.html#DrawerItem">DrawerItem</a></li><li><a href="global.html#DrawerMenu">DrawerMenu</a></li><li><a href="global.html#DrawerToggleMenuItem">DrawerToggleMenuItem</a></li><li><a href="global.html#HighwayScreen">HighwayScreen</a></li><li><a href="global.html#IntersectionScreen">IntersectionScreen</a></li><li><a href="global.html#MappingDraggable">MappingDraggable</a></li><li><a href="global.html#Navigator">Navigator</a></li><li><a href="global.html#Popout">Popout</a></li><li><a href="global.html#PopoutItems">PopoutItems</a></li><li><a href="global.html#readData">readData</a></li><li><a href="global.html#RoadSignScreen">RoadSignScreen</a></li><li><a href="global.html#RoundaboutScreen">RoundaboutScreen</a></li><li><a href="global.html#saveData">saveData</a></li><li><a href="global.html#SettingsScreen">SettingsScreen</a></li><li><a href="global.html#StartScreen">StartScreen</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Wed Mar 24 2021 14:10:21 GMT+0100 (sentraleuropeisk normaltid)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
