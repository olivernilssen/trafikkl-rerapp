<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/reusableComponents/Carousel.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/reusableComponents/Carousel.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState } from 'react';
import { View, StyleSheet, ScrollView, Text } from 'react-native';

/**
 * Component that displays a carousel
 * @namespace Carousel
 * @memberof reusableComponents
 * @prop {int} itemsPerSlide Number of items to be displayed per slide in the Carousel
 * @prop {array} objectArray The items of the slide
 */
const Carousel = (props) => {
    const { itemsPerSlide, objectArray } = props;

    const [numberOfSlides, setNumberOfSlides] = useState(1);
    const [activeSlide, setActiveSlide] = useState(1);
    const [width, setWidth] = useState(0);
    let bullets = [];

    /**
     * Function to set the layout of the carousel.
     * Sets the width of the carousel, and the number of slides
     * @memberof reusableComponents.Carousel
     * @param {number} width Width of the carousel
     */
    const setCarouselLayout = (width) => {
        // Initialise width of carousel
        setWidth(width);

        // Initialise total number of slides
        const totalItems = objectArray.length; // * 2 for testing
        setNumberOfSlides(Math.ceil(totalItems / itemsPerSlide));
    };

    /**
     * Function to get the active slide
     * @memberof reusableComponents.Carousel
     * @param {number} offset The content offset of the carousel
     * @returns {int} The active slide
     */
    const getActiveSlide = (offset) => {
        for (let i = 1; i &lt;= numberOfSlides; i++) {
            if (offset * 2 &lt; (width / numberOfSlides) * i) {
                return i;
            }
            if (i == numberOfSlides) {
                return i;
            }
        }
    };

    /**
     * Generate bulletpoints to show number of slide
     * Bulletpoint for active slide is highlighted
     */
    for (let i = 1; i &lt;= numberOfSlides; i++) {
        bullets.push(
            &lt;Text
                key={i}
                style={[
                    styles.bullet,
                    { opacity: activeSlide === i ? 0.6 : 0.2 },
                ]}>
                &amp;bull;
            &lt;/Text>
        );
    }

    return (
        &lt;View style={styles.container}>
            &lt;ScrollView
                horizontal={true}
                showsHorizontalScrollIndicator={false}
                decelerationRate="fast"
                contentContainerStyle={{ width: `${100 * numberOfSlides}%` }}
                pagingEnabled
                onContentSizeChange={(w, h) => setCarouselLayout(w)}
                style={styles.carousel}
                onScroll={(data) => {
                    setActiveSlide(
                        getActiveSlide(data.nativeEvent.contentOffset.x)
                    );
                }}
                scrollEventThrottle={200}>
                {objectArray}
            &lt;/ScrollView>
            &lt;View style={styles.bulletContainer}>{bullets}&lt;/View>
        &lt;/View>
    );
};

const styles = StyleSheet.create({
    container: {
        flex: 1,
        paddingTop: 15,
        alignItems: 'center',
    },
    carousel: {
        paddingHorizontal: 10,
        flexDirection: 'row',
    },
    bulletContainer: {
        flexDirection: 'row',
    },
    bullet: {
        paddingHorizontal: 10,
        fontSize: 30,
    },
});

export default Carousel;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="reusableComponents.html">reusableComponents</a></li><li><a href="reusableComponents.ButtonGroup.html">ButtonGroup</a></li><li><a href="reusableComponents.Carousel.html">Carousel</a></li><li><a href="reusableComponents.Divider.html">Divider</a></li><li><a href="reusableComponents.Header.html">Header</a></li><li><a href="reusableComponents.MainView.html">MainView</a></li><li><a href="reusableComponents.Overlay.html">Overlay</a></li><li><a href="SketchArea.html">SketchArea</a></li><li><a href="SketchHeader.html">SketchHeader</a></li><li><a href="SketchHeader.ColorButton.html">ColorButton</a></li><li><a href="SketchHeader.DeleteButtonPopover.html">DeleteButtonPopover</a></li><li><a href="SketchHeader.DraggableComponentsButton.html">DraggableComponentsButton</a></li><li><a href="SketchHeader.HeaderButton.html">HeaderButton</a></li><li><a href="SketchHeader.PencilSizePopup.html">PencilSizePopup</a></li><li><a href="SketchHeader.SketchColorMenu.html">SketchColorMenu</a></li></ul><h3>Global</h3><ul><li><a href="global.html#BottomMenuAnimated">BottomMenuAnimated</a></li><li><a href="global.html#BottomMenuContent">BottomMenuContent</a></li><li><a href="global.html#clearStorage">clearStorage</a></li><li><a href="global.html#CountryRoadScreen">CountryRoadScreen</a></li><li><a href="global.html#Draggable">Draggable</a></li><li><a href="global.html#DraggableComponents">DraggableComponents</a></li><li><a href="global.html#DraggableComponentsMenu">DraggableComponentsMenu</a></li><li><a href="global.html#DraggableWithEverything">DraggableWithEverything</a></li><li><a href="global.html#DrawerItem">DrawerItem</a></li><li><a href="global.html#DrawerMenu">DrawerMenu</a></li><li><a href="global.html#DrawerToggleMenuItem">DrawerToggleMenuItem</a></li><li><a href="global.html#HighwayScreen">HighwayScreen</a></li><li><a href="global.html#IntersectionScreen">IntersectionScreen</a></li><li><a href="global.html#MappingDraggable">MappingDraggable</a></li><li><a href="global.html#Navigator">Navigator</a></li><li><a href="global.html#Popout">Popout</a></li><li><a href="global.html#PopoutItems">PopoutItems</a></li><li><a href="global.html#readData">readData</a></li><li><a href="global.html#RoadSignScreen">RoadSignScreen</a></li><li><a href="global.html#RoundaboutScreen">RoundaboutScreen</a></li><li><a href="global.html#saveData">saveData</a></li><li><a href="global.html#SettingsScreen">SettingsScreen</a></li><li><a href="global.html#StartScreen">StartScreen</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Mon Mar 22 2021 22:16:29 GMT+0100 (sentraleuropeisk normaltid)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
